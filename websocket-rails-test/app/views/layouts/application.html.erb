<!DOCTYPE html>
<html ng-app="app">
<head>
  <meta charset="utf-8">
  <!-- evitar o zoom em dispositivos mobile -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
  <meta name="description" content="Websocket Store: Interface de pedido utilizando websocket-rails">
  <meta name="author" content="Pablo Targa <pablo.targa@gmail.com>">
  <meta name="keywords" content="websocket,teste">
  <title>Websocket Store</title>

  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="/assets/application.css">

  <!--[if lte IE 8]>
    <script>
      document.createElement('ng-include');
      document.createElement('ng-pluralize');
      document.createElement('ng-view');
    </script>
  <![endif]-->

  <!-- le fonts -->
  <link href='http://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>
</head>
<body>

  <!-- feedback geral do sistema erros/sucessos -->
  <div ng-repeat="msg in messages" class="alert alert-{{msg.type}}"> {{msg.text}} </div>

  <!-- login -->
  <ng-include src="'/assets/_login.html'"></ng-include>

  <!-- menu -->
  <ul id="menu" class="nav nav-pills">
    <li ng-class="{'active': isActive('/produtos')}"><a href="/produtos"><i class="glyphicon glyphicon-gift"></i> Produtos</a></li>
    <li ng-class="{'active': isActive('/pedidos')}" ng-show="user"><a href="/pedidos"><i class="glyphicon glyphicon-calendar"></i> Pedidos</a></li>
    <li ng-class="{'active': isActive('/admin')}" ng-show="user && user.admin"><a href="/admin">Admin</a></li>
    <li ng-class="{'active': showLogin}" ng-hide="user" class="pull-right success"><a href="#" ng-click="login()"><i class="glyphicon glyphicon-log-in"></i> Entrar</a></li>
    <li ng-show="user" class="pull-right danger"><a href="#" ng-click="logout()" ><i class="glyphicon glyphicon-log-out"></i> Sair da conta: {{user.username}}</a></li>
  </ul>

  <!-- views do sistema, carregadas pelo ng-view do angular -->
  <section ng-view></section>

  <!-- le javascript -->
  <script type="text/javascript" src="/assets/application.js"></script>

</body>
</html>